
apply plugin: 'java'
apply plugin: 'eclipse'

test.systemProperty('JBOSS_HOME', System.getProperty("user.home") + "/" + wildflyHome)

sourceCompatibility = 1.7
version = '1.0'
jar {
	manifest {
		attributes 'Implementation-Title': 'Integer-server', 'Implementation-Version': version
	}

}

configurations {
	provided
}

repositories {
	mavenCentral()
	maven { url "https://oosnmp.net/dist/release" }
	maven { url "http://repo.spring.io/libs-milestone" }
	maven { url "https://repository.jboss.org" }
	maven { url "http://repository.jboss.org/nexus/content/groups/public/" }
}

dependencies {
	compile project(':common')

	compile files("libs/grammatica-1.5.jar")
	compile files("libs/mibble-parser-2.9.3.jar")
	
	compile 'javax.validation:validation-api:1.1.0.Final'
	compile group: 'commons-collections', name: 'commons-collections', version: '3.2'
	compile group: 'org.hibernate', name: 'hibernate-core', version: '4.2.0.Final'
	compile "org.jboss.spec.javax.ejb:jboss-ejb-api_3.2_spec:1.0.0.Final"
	compile "javax.ws.rs:javax.ws.rs-api:2.0-rc3"
	compile "javax.inject:javax.inject-tck:1"
	compile "javax.enterprise:cdi-api:1.1.EDR1"
	compile "org.slf4j:slf4j-log4j12:1.7.5"
    compile "org.snmp4j:snmp4j:2.2.5"
	compile "commons-net:commons-net:3.3"

	testCompile "org.jboss.arquillian.junit:arquillian-junit-container:1.1.2.Final"
	testCompile "org.jboss.arquillian.protocol:arquillian-protocol-servlet:1.1.2.Final"
	testCompile group: 'junit', name: 'junit', version: '4.+'

	testRuntime ('org.wildfly:wildfly-arquillian-container-managed:8.0.0.CR1') {
		exclude module: 'wildfly-ee'
		exclude module: 'wildfly-server'
		exclude module: 'wildfly-osgi-service'
		exclude module: 'wildfly-jmx'
		exclude module: 'wildfly-arquillian-protocol-jmx'
		exclude module: 'wildfly-arquillian-testenricher-msc'
		exclude module: 'arquillian-testenricher-osgi'
		exclude group: 'org.jboss.shrinkwrap.resolver'
	}
	
	testRuntime ("org.jboss:jboss-common-core:2.2.22.GA") {
		exclude group: 'org.jboss.logging'
	}
 	
}

uploadArchives {
	repositories {
		flatDir {
			dirs 'repos'
		}
	}
}

